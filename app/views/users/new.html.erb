<html>

<head>
 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
 <script type="text/javascript" src="//jpostal-1006.appspot.com/jquery.jpostal.js"></script> 
<script type="text/javascript">
  $(window).ready( function() {
  $('#user_postal_code').jpostal({
    postcode : [
      '#user_postal_code'
    ],
    address : {
        "#user_prefecture_code": "%3", // # 都道府県が入力される
        "#user_city"           : "%4%5", // # 市区町村と町域が入力される
        "#user_street"         : "%6%7" // # 大口事務所の番地と名称が入力される
    }
  });
    });

   $(function(){
	<!--- button1 の click 時の処理 --->
        $('#text1').on({
          'input properychange change': function(){alert("sa")}
                  
                  
         })
    });


var timeoutId;
$('#text1').on('input propertychange change', function() {
    console.log('Textarea Change');
    
    clearTimeout(timeoutId);
    timeoutId = setTimeout(function() {
        // Runs 1 second (1000 ms) after the last change    
        saveToDB();
    }, 1000);
});

function saveToDB()
{
    console.log('Saving to the db');
    
    // Now show them we saved and when we did
    var d = new Date();
    $('.form-status-holder').html('Saved! Last: ' + d.toLocaleTimeString());
}
	</script>
</head>

<body>
	<INPUT    id="text1"   type="text" value="jquery try" cols=40>
	<button   id="button1" >OK</button>
	</br></br>
        <textarea id="area1"   cols=40 rows=10></textarea>


<div class="form-status-holder"></div>
<h5 align="center">新規登録</h5>
<%= render 'form' %>
</body>

</html>
